# housing-sim-jp

日本の住宅戦略を比較する資産形成シミュレーター。2026年以降の日本市場を前提に、開始年齢から80歳までの月次シミュレーションを実行し、税引後純資産を比較する。

## 前提条件

- **対象世帯**: 一都三県勤務の共働きカップル（同い年）、大手企業正社員
- **開始年齢**: 20〜45歳
- **終了年齢**: 80歳固定（老人ホーム入居を出口戦略とする。80歳以降のバリアフリー改修等は考慮外）
- **物件価格**: 2026年の浦和駅エリア実勢価格
- **住宅ローン**: フルローン35年・変動金利（5年ごとステップ式）。購入戦略では銀行審査基準（年収倍率≤7倍、返済比率≤35%）を適用
- **初期資産**: 購入戦略の諸費用（マンション606万・一戸建て524万・賃貸105万）を賄えること
- **収入モデル**: 〜34歳は年3%成長、35歳〜は年1.5%成長、60歳で再雇用（ピークの60%）、70歳で年金生活
- **年金**: 公的年金（基礎年金+厚生年金）をピーク収入から動的計算 + 企業年金（デフォルト130万/年）
- **教育費**: 子の7〜22歳の16年間、デフォルト月15万/人（公私混合概算、`--education` で調整可）
- **投資先**: 全世界株式インデックス。NISA（夫婦合計3,600万円上限・非課税）を優先し、超過分は特定口座（課税20.315%）
- **不動産売却**: 居住用財産3,000万円特別控除を適用

## 比較戦略

| 戦略 | 概要 |
|------|------|
| **浦和マンション** | 築10年中古マンション購入（7,580万円）。管理費+修繕積立金が築年数で段階増額 |
| **浦和一戸建て** | 築7年中古一戸建て購入（6,547万円）。大規模修繕を一時費用で計上 |
| **戦略的賃貸** | ライフステージに応じて3フェーズで家賃ダウンサイジング |
| **通常賃貸** | 3LDK固定で全期間賃貸 |

## 使い方

```bash
# 単体シミュレーション（3戦略比較: マンション/一戸建て/戦略的賃貸）
python -m housing_sim_jp.cli

# 3シナリオ×4戦略比較（低成長/標準/高成長 + 投資規律の感度分析）
python -m housing_sim_jp.scenario_cli

# テスト
python -m pytest tests/ -v
```

### オプション

| フラグ | 説明 | デフォルト |
|--------|------|-----------|
| `--age` | 開始年齢（20〜45歳） | 37 |
| `--savings` | 初期金融資産（万円） | 800 |
| `--income` | 世帯月額手取り（万円） | 72.5 |
| `--children` | 出産時の親の年齢（カンマ区切りで複数可） | 39 |
| `--no-child` | 子供なし（教育費ゼロ） | - |
| `--living` | 生活費（万円/月、住居費・教育費除く） | 32.0 |
| `--education` | 教育費（万円/月/人） | 15.0 |

教育費は `--children` から自動計算される（各子の7〜22歳 = 小学校入学〜大学卒業の16年間、月15万円/人）。複数指定時は `--children 28,32` のように記述。

## 経済シナリオ

| パラメータ | 低成長 | 標準 | 高成長 |
|-----------|--------|------|--------|
| インフレ率 | 0.5% | 1.5% | 2.5% |
| 運用利回り | 4.0% | 5.5% | 7.0% |
| 土地上昇率 | 0.0% | 0.5% | 1.0% |
| ローン金利 | 0.75→1.25% | 0.75→2.00% | 1.00→3.00% |

詳細な分析は [report.md](report.md) を参照。
